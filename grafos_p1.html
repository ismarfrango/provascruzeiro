<script>

var rgms = new Array(23322276,23286300,23425644,23416611,25176943,23724951,23542306,23423641,23453311,23386851,23455624,23518022,23406836,23303824,22724061,26636280,24395641,23378417,28416422)

var noms = new Array("ARTHUR HENRIQUE QUIRINO DA SILVA ALVES","BRUNA ROCHA DA SILVA ","BRUNO SOUSA DE JESUS","CARLOS JORGE NASCIMENTO DA CRUZ","EMESSON LOPES DO NASCIMENTO","FELIPE SILVA PAIVA DA COSTA","GABRIEL PRADO DE PAULA","GABRIELLE RAMOS IRINEU","GABRIELLY SAMPAIO ALVES","HENRIQUE PERAZZO DE ALMEIDA","HINGRETH DANIELLE MARTINS RODRIGUES","IGOR DOS PASSOS CORDEIRO","JHENIFER DA SILVA MESTIÇO","LAURI OSMAR SEIBOTH JUNIOR","MARCELO CARDOSO LEANDRO","MATHEUS BRANDÃO DOMINGUES","NIVALDO PEDRO DOS SANTOS","THIAGO FERNANDES DO NASCIMENTO","WANILTON DA SILVA ELIAS")

var text = ""
var option = -1
var index = 0

function update() {
var select = document.getElementById('rgm')
index = select.selectedIndex
option = rgms[index];
text = (typeof index == 'undefined') ? noms[0] : noms[select.selectedIndex];
}
    
function first(nome)
{
    return nome.replace(/ .*/,'');
}
    
function aleat(arr,i,pi)
{
     
    str = adj[i] + " <B>|</B> " ; 
    strp= ""
    n = (i%2) + 4
    for (j=1;j<n;j++)
    {
		strp = arr[Math.trunc(radj[i]/(Math.pow(10,j)))%pi]
		console.log(radj[i]/(Math.pow(10,j)))
        if (str.search(strp)<0) 
            str += strp + " ";
        //else i--
    }
    return str
}

    
function aleatb(arr,i,pi)
{
    
    str = adj[i] + " <B>|</B> " ; 
    strp= ""
    n = (i%2) + 4
    for (i=1;i<n;i++)
    {
        strp = arr[(i+Math.round(option/(10*i)))%pi]
        if (str.search(strp)<0) 
            str += strp + " ";
        //else i--
    }
    return str
}
function monta()
{
w = window.open();
w.document.write("<table border=0><tr><td><FONT FACE='Calibri'><IMG SRC='logo_ucs.jpg' align='left' width='200'>TEORIA DOS GRAFOS - P1 - 26.abr.22<BR />Enunciado exclusivo para "+ first(text))
w.document.write("</td></tr></table><HR/><BR /><FONT FACE='Calibri'>Considere o seguinte grafo G<sub>A</sub> definido por sua lista de adjacência. <BR />")
w.document.write("Este grafo representa a relação \"já foi na casa de\"<BR/>")
w.document.write("Ou seja, se há uma entrada <font face='Courier'>A | B C D</font>, significa que A já foi na casa de B, C e D - a recíproca não é necessariamente verdadeira<BR></font><Font face='Courier'><P>")
adj = new Array();
radj = new Array();

pi = (option % 2) ? 5 : 6
    for(i=0;i<pi;i++)
        {
		    k = (i+index)%(rgms.length)
            adj[i] = first(noms[k])
			radj[i] = rgms[k]
        } 
    //alert(adj)
    for(i=0;i<pi;i++)
        {
            w.document.write(aleat(adj,i,pi) +"<BR />" )
        }
w.document.write("</font><Hr/>")
    montab(w)
}
    
function binalet(a,b)
{
  return (a==b) ? 0 : (a+b+Math.round(option/3))%2        
}
    
function montab(w)
{
w.document.write("<HR/><BR /><FONT FACE='Calibri'>Considere o seguinte grafo G<sub>B</sub> definido por sua matriz de adjacência. <BR />")
w.document.write("Este grafo representa a relação \"estudou com\"<BR/>")
w.document.write("Ou seja, se há uma entrada 1 na linha A e coluna B (e, obviamente, na linha B e coluna A), significa que A e B estudaram juntos<BR><P></font><Font face='Courier'>")
adj = new Array();
radj = new Array();
pi = (option % 2) ? 8 : 7
    for(i=10;i<pi+10;i++)
        {
		    k = (i+index)%(rgms.length)
            adj[i-10] = first(noms[k])
			radj[i-10] = rgms[k]
        } 
    //alert(adj)
    w.document.write("<TABLE BORDER=1><TR><TD WIDTH=10%></TD>")
    for(i=0;i<pi;i++) w.document.write("<TD WIDTH=10%>"+adj[i]+"</TD>")
    w.document.write("</TR>")
    for(i=0;i<pi;i++) 
     { 
         w.document.write("<TR><TD WIDTH=10%>"+adj[i]+"</TD>")
         for (j=0;j<pi;j++)
             w.document.write("<TD WIDTH=10%>"+binalet(i,j)+"</TD>")
         w.document.write("</TR>")
     }
    w.document.write("</TABLE>")
     
w.document.write("</font><Hr/>")
}

function prv()
{
var resp = false;
if (index==-1) alert("Selecione um RGM") 
  else resp=confirm("Confirma abrir enunciado de "+text+"?")
if (resp)
    monta()
}

</script>
<HTML><BODY>
<table border=0><tr><td><FONT FACE='Calibri'><IMG SRC='logo_ucs.jpg' align='left' width='200'>TEORIA DOS GRAFOS - P1 - 26.abr.22<BR />
</td></tr></table><HR/><BR />
<FORM>
<CENTER><FONT FACE='Calibri'>
Seu RGM: 
<select id="rgm" name="rgm" size= 1 onChange="update()">
 <script>
  var y;
  for (i=0; i<rgms.length; i++){
   y = '<option value="'+rgms[i]+'">'+rgms[i]+'</option>'
   document.write(y); }
 document.write("</select>");
document.write('<button type="button" onClick="prv()">Abrir prova</button>')
</script>
</FORM>
